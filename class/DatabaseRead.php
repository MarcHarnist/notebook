<?php

/*******************************************************************************************************/
/** OBJECT ORIENTED PROGRAMMING LANGAGE                                                               **/
/*******************************************************************************************************/
/** CLASS name: DatabaseReadPages (child of the class Database)                                       **/
/*******************************************************************************************************/
/** AUTHOR: Marc L. Harnist                                                                           **/
/*******************************************************************************************************/
/** CREATION: 06/04/2018 (copie de DatabaseReadZoo, tp chez Sylvan)                                   **/
/*******************************************************************************************************/
/** UPDATED: 06/04/2018                                                                               **/
/*******************************************************************************************************/
/** FILE USING THIS CLASS: controller/__pages-creations                                               **/
/**                                                                                                   **/
/*******************************************************************************************************/
/** FUNCTION INSIDE: read_database                                                                    **/
/**                                                                                                   **/
/*******************************************************************************************************/
class DatabaseRead extends Database {

		const TABLE = TABLE_PAGES; // nombre d'animaux par espèce
		public $message;
		
		/**********************************************************************************************/
		/**     Nom : construct                                                                      **/
		/**********************************************************************************************/
		/**     Description : crée l'objet Database, et se connecte à la base de donnée mysql        **/
        /**                   en utilisant une fonction (connect()) de la classe mère (Database)     **/
		/**                                                    		                                 **/
		/**********************************************************************************************/
		/**     Paramètres: aucun                                                                    **/
		/**********************************************************************************************/
		/**     Valeurs retournées : booleen an cas de mauvaise connexion ou d'échec de connexion    **/
		/**********************************************************************************************/
		/**     Auteur : Marc L. Harnist                                                             **/
		/**********************************************************************************************/
		/**     Version : 1.0                                                                        **/
		/**********************************************************************************************/
		/**     Créée le : 06/04/2018                                                                **/
		/**********************************************************************************************/
		/**     Modifiée le : 06/04/2018                                                             **/	/**********************************************************************************************/	

		public function __construct()
		{
			parent::__construct(); // Construit l'objet ici avec les attributs de la classe mère
		}

		// 2. READ   
		// R from CRUD - Database Read

		/**********************************************************************************************/
		/**     Nom : read_database                                                                  **/
		/**********************************************************************************************/
		/**     Paramètres: aucun                                                                    **/
		/**********************************************************************************************/
		/**     Valeurs retournées : [array]  array qui contient toutes les données de la table      **/
		/*********************************************************************************************
		/**     Auteur : Marc L. Harnist                                                             **/
		/**********************************************************************************************/
		/**     Version : 1.0                                                                        **/
		/**********************************************************************************************/
		/**     Créée le : 06/04/2018                                                                **/
		/**********************************************************************************************/
		/**     Modifiée le : 06/04/2018                                                             **/	/**********************************************************************************************/	
		function read_database(){
			
			// ATTENTION: respectez bien l'ordre des ' et des " N'oubliez pas non plus les . (concaténation)
			$mysql_request = 'SELECT * FROM ' . self::TABLE . '';
	  
			// Mysql request ($stmt = preparing statement = état de préparation = une convention de codeurs)
			$stmt = $this->db->query($mysql_request);
			$lire = $stmt->fetchAll(PDO::FETCH_ASSOC);

			return $lire;
		}
	} // Close the class